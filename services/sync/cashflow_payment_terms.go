// Copyright 2022 The go-exactonline AUTHORS. All rights reserved.
//
// Use of this source code is governed by a MIT
// license that can be found in the LICENSE file.
// Code generated by gen-services.go; DO NOT EDIT.
package sync

import (
	"context"

	"github.com/stack11/go-exactonline/api"
	"github.com/stack11/go-exactonline/types"
)

// CashflowPaymentTermsEndpoint is responsible for communicating with
// the CashflowPaymentTerms endpoint of the Sync service.
type CashflowPaymentTermsEndpoint service

// CashflowPaymentTerms:
// Service: Sync
// Entity: CashflowPaymentTerms
// URL: /api/v1/{division}/sync/Cashflow/PaymentTerms
// HasWebhook: false
// IsInBeta: false
// Methods: GET
// Endpoint docs: https://start.exactonline.nl/docs/HlpRestAPIResourcesDetails.aspx?name=SyncCashflowPaymentTerms
type CashflowPaymentTerms struct {
	MetaData *api.MetaData `json:"__metadata,omitempty"`
	// Timestamp: Timestamp
	Timestamp *int64 `json:"Timestamp,omitempty"`

	// Account: The supplier to which the payment has to be done.
	Account *types.GUID `json:"Account,omitempty"`

	// AccountBankAccountID: The bank account of the supplier, to which the payment has to be done.
	AccountBankAccountID *types.GUID `json:"AccountBankAccountID,omitempty"`

	// AccountBankAccountNumber: The bank account number of the supplier, to which the payment has to be done.
	AccountBankAccountNumber *string `json:"AccountBankAccountNumber,omitempty"`

	// AccountCode: The code of the supplier to which the payment has to be done.
	AccountCode *string `json:"AccountCode,omitempty"`

	// AccountContact: Contact person copied from the purchase invoice linked to the related purchase entry. Used as prefered contact when sending reminders.
	AccountContact *types.GUID `json:"AccountContact,omitempty"`

	// AccountContactName: Name of the contact person of the supplier.
	AccountContactName *string `json:"AccountContactName,omitempty"`

	// AccountCountry: Country code of the customer.
	AccountCountry *string `json:"AccountCountry,omitempty"`

	// AccountName: Name of the supplier.
	AccountName *string `json:"AccountName,omitempty"`

	// AmountDC: The amount in default currency (division currency). Payments are matched on this amount.
	AmountDC *float64 `json:"AmountDC,omitempty"`

	// AmountDiscountDC: The amount of the discount in the default currency.
	AmountDiscountDC *float64 `json:"AmountDiscountDC,omitempty"`

	// AmountDiscountFC: The amount of the discount. This is in the amount of the selected currency.
	AmountDiscountFC *float64 `json:"AmountDiscountFC,omitempty"`

	// AmountFC: The amount of the payment. This is in the amount of the selected currency.
	AmountFC *float64 `json:"AmountFC,omitempty"`

	// ApprovalStatus: Shows the approval status of the payment. Values can be 1 N/A, 2 Awaiting review, 3 Awaiting approval, 4 Approved, 5 Rejected. Approval of payments is not enabled in all subscriptions. If turned of the ApprovalStatus is null
	ApprovalStatus *int `json:"ApprovalStatus,omitempty"`

	// BankAccountID: Own bank account from which the payment must be done.
	BankAccountID *types.GUID `json:"BankAccountID,omitempty"`

	// BankAccountNumber: Own bank account number from which the payment must be done.
	BankAccountNumber *string `json:"BankAccountNumber,omitempty"`

	// CashflowTransactionBatchCode: When processing payments, all payments with the same processing data are put in a batch. This field contains the code of that batch.
	CashflowTransactionBatchCode *string `json:"CashflowTransactionBatchCode,omitempty"`

	// Created: Creation date.
	Created *types.Date `json:"Created,omitempty"`

	// Creator: User ID of the creator.
	Creator *types.GUID `json:"Creator,omitempty"`

	// CreatorFullName: Name of the creator.
	CreatorFullName *string `json:"CreatorFullName,omitempty"`

	// Currency: The currency of the payment. This currency can only deviate from the division currency if the module Currency is in the license.
	Currency *string `json:"Currency,omitempty"`

	// Description: Extra description for the payment that may be included in the bank export file.
	Description *string `json:"Description,omitempty"`

	// DirectDebitMandate: Direct Debit Mandate used to collect the PaymentTerms.
	DirectDebitMandate *types.GUID `json:"DirectDebitMandate,omitempty"`

	// DirectDebitMandateDescription: Description of the mandate.
	DirectDebitMandateDescription *string `json:"DirectDebitMandateDescription,omitempty"`

	// DirectDebitMandatePaymentType: Payment type of the mandate. 0 = One off payment 1 = Recurrent payment.
	DirectDebitMandatePaymentType *int `json:"DirectDebitMandatePaymentType,omitempty"`

	// DirectDebitMandateReference: Unique mandate reference.
	DirectDebitMandateReference *string `json:"DirectDebitMandateReference,omitempty"`

	// DirectDebitMandateType: Type of the mandate. 0 = Core 1 = Business-to-business.
	DirectDebitMandateType *int `json:"DirectDebitMandateType,omitempty"`

	// DiscountDueDate: Date before which the payment must be done to be eligible for discount.
	DiscountDueDate *types.Date `json:"DiscountDueDate,omitempty"`

	// Division: Division code.
	Division *int `json:"Division,omitempty"`

	// Document: Document that is created when processing payments.  The bank export file is attached to the document.
	Document *types.GUID `json:"Document,omitempty"`

	// DocumentNumber: Number of the document.
	DocumentNumber *int `json:"DocumentNumber,omitempty"`

	// DocumentSubject: Subject of the document.
	DocumentSubject *string `json:"DocumentSubject,omitempty"`

	// DueDate: Date before which the payment must be done.
	DueDate *types.Date `json:"DueDate,omitempty"`

	// EndDate: Date since when the payment is no longer an outstanding item. This is the highest invoice date of all matched payments.
	EndDate *types.Date `json:"EndDate,omitempty"`

	// EndPeriod: Period since when the payment is no longer an outstanding item. This is the highest period of all matched payments.
	EndPeriod *int `json:"EndPeriod,omitempty"`

	// EndToEndID: The value of the tag &#39;EndToEndID&#39; when generating a SEPA file.
	EndToEndID *string `json:"EndToEndID,omitempty"`

	// EndYear: Year (of period) since when the payment is no longer an outstanding item. This is the highest year of all matched payments. Used in combination with EndPeriod.
	EndYear *int `json:"EndYear,omitempty"`

	// EntryDate: Processing date of the payment.
	EntryDate *types.Date `json:"EntryDate,omitempty"`

	// EntryID: The unique identifier for a set of payments. A payment can be split so that one part is paid on a different date. In that case the two records get a different EntryID.
	EntryID *types.GUID `json:"EntryID,omitempty"`

	// EntryNumber: Entry number of the linked transaction.
	EntryNumber *int `json:"EntryNumber,omitempty"`

	// GLAccount: G/L account of the payment. Must be of type 22 (Accounts payable).
	GLAccount *types.GUID `json:"GLAccount,omitempty"`

	// GLAccountCode: Code of the G/L account.
	GLAccountCode *string `json:"GLAccountCode,omitempty"`

	// GLAccountDescription: Description of the G/L account.
	GLAccountDescription *string `json:"GLAccountDescription,omitempty"`

	// ID: Identifier of the PaymentTerms.
	ID *types.GUID `json:"ID,omitempty"`

	// InvoiceDate: Invoice date of the linked transaction.
	InvoiceDate *types.Date `json:"InvoiceDate,omitempty"`

	// InvoiceNumber: Invoice number of the linked transaction.
	InvoiceNumber *int `json:"InvoiceNumber,omitempty"`

	// IsBatchBooking: Boolean indicating whether the payment is part of a batch booking.
	IsBatchBooking *byte `json:"IsBatchBooking,omitempty"`

	// IsFullyPaid: Boolean indicating whether the receivable was fully paid by the customer.
	IsFullyPaid *bool `json:"IsFullyPaid,omitempty"`

	// Journal: Journal of the linked transaction.
	Journal *string `json:"Journal,omitempty"`

	// JournalDescription: Description of the journal.
	JournalDescription *string `json:"JournalDescription,omitempty"`

	// LastPaymentDate: Last payment date.
	LastPaymentDate *types.Date `json:"LastPaymentDate,omitempty"`

	// LineType: Determines if the record is a payment or receipt. In case of payment the value is 22, in case of receipt the value is 20
	LineType *int `json:"LineType,omitempty"`

	// Modified: Last modified date.
	Modified *types.Date `json:"Modified,omitempty"`

	// Modifier: User ID of modifier.
	Modifier *types.GUID `json:"Modifier,omitempty"`

	// ModifierFullName: Name of modifier.
	ModifierFullName *string `json:"ModifierFullName,omitempty"`

	// OrderNumber: Order number of the linked transaction.
	OrderNumber *int `json:"OrderNumber,omitempty"`

	// PaymentBatchNumber: Number assigned during the of processing payments. When payments are processed a bank export file is created. This file contains one or more batches that contain one or more payments. Each batch gets a sequence number that is stored for each payment in that batch.
	PaymentBatchNumber *int `json:"PaymentBatchNumber,omitempty"`

	// PaymentCondition: Payment condition of the linked transaction.
	PaymentCondition *string `json:"PaymentCondition,omitempty"`

	// PaymentConditionDescription: Description of the payment condition.
	PaymentConditionDescription *string `json:"PaymentConditionDescription,omitempty"`

	// PaymentDays: Number of days between invoice date and due date.
	PaymentDays *int `json:"PaymentDays,omitempty"`

	// PaymentDaysDiscount: Number of days between invoice date and due date of the discount.
	PaymentDaysDiscount *int `json:"PaymentDaysDiscount,omitempty"`

	// PaymentDiscountPercentage: Payment discount percentage.
	PaymentDiscountPercentage *float64 `json:"PaymentDiscountPercentage,omitempty"`

	// PaymentInformationID: PaymentInformationID tag from the SEPA xml file.
	PaymentInformationID *string `json:"PaymentInformationID,omitempty"`

	// PaymentMethod: Method of payment. B = On credit (default) I = Collection K = Cash V = Credit card.
	PaymentMethod *string `json:"PaymentMethod,omitempty"`

	// PaymentReference: Payment reference for the payment that may be included in the bank export file.
	PaymentReference *string `json:"PaymentReference,omitempty"`

	// PaymentSelected: Date and time since when the payment is selected to be paid.
	PaymentSelected *types.Date `json:"PaymentSelected,omitempty"`

	// PaymentSelector: User who selected the payment to be paid.
	PaymentSelector *types.GUID `json:"PaymentSelector,omitempty"`

	// PaymentSelectorFullName: Name of the payment selector.
	PaymentSelectorFullName *string `json:"PaymentSelectorFullName,omitempty"`

	// RateFC: Exchange rate from payment currency to division currency. AmountFC * RateFC = AmountDC.
	RateFC *float64 `json:"RateFC,omitempty"`

	// ReceivableBatchNumber: Number assigned during the processing of receivables.
	ReceivableBatchNumber *int `json:"ReceivableBatchNumber,omitempty"`

	// ReceivableSelected: Date and time since when the receivable is selected to be collected.
	ReceivableSelected *types.Date `json:"ReceivableSelected,omitempty"`

	// ReceivableSelector: User who selected the receivable to be collected.
	ReceivableSelector *types.GUID `json:"ReceivableSelector,omitempty"`

	// ReceivableSelectorFullName: Name of the receivable selector.
	ReceivableSelectorFullName *string `json:"ReceivableSelectorFullName,omitempty"`

	// Source: The source of the payment.
	Source *int `json:"Source,omitempty"`

	// Status: The status of the payment. 20 = open 30 = selected - payment is selected to be paid 40 = processed - payment has been done 50 = matched - payment is matched with one or more other outstanding items or financial statement lines
	Status *int `json:"Status,omitempty"`

	// TransactionAmountDC: Total amount of the linked transaction in default currency (division currency).
	TransactionAmountDC *float64 `json:"TransactionAmountDC,omitempty"`

	// TransactionAmountFC: Total amount of the linked transaction in the selected currency.
	TransactionAmountFC *float64 `json:"TransactionAmountFC,omitempty"`

	// TransactionDueDate: Due date of the linked transaction.
	TransactionDueDate *types.Date `json:"TransactionDueDate,omitempty"`

	// TransactionEntryID: Linked transaction. Use this as reference to PurchaseEntries.
	TransactionEntryID *types.GUID `json:"TransactionEntryID,omitempty"`

	// TransactionID: Linked transaction line. Use this as reference to PurchaseEntryLines.
	TransactionID *types.GUID `json:"TransactionID,omitempty"`

	// TransactionIsReversal: Indicates if the linked transaction is a reversal entry.
	TransactionIsReversal *bool `json:"TransactionIsReversal,omitempty"`

	// TransactionReportingPeriod: Period of the linked transaction.
	TransactionReportingPeriod *int `json:"TransactionReportingPeriod,omitempty"`

	// TransactionReportingYear: Year of the linked transaction.
	TransactionReportingYear *int `json:"TransactionReportingYear,omitempty"`

	// TransactionStatus: Status of the linked transaction.
	TransactionStatus *int `json:"TransactionStatus,omitempty"`

	// TransactionType: Type of the linked transaction.
	TransactionType *int `json:"TransactionType,omitempty"`

	// YourRef: Invoice number of the supplier. In case the payment belongs to a bank entry line and is matched with one invoice, YourRef is filled with the YourRef of this invoice.
	YourRef *string `json:"YourRef,omitempty"`
}

func (e *CashflowPaymentTerms) GetPrimary() *int64 {
	return e.Timestamp
}

func (s *CashflowPaymentTermsEndpoint) UserHasRights(ctx context.Context, division int, method string) (bool, error) {
	return s.client.UserHasRights(ctx, division, "Cashflow/PaymentTerms", method)
}

// List the CashflowPaymentTerms entities in the provided division.
// If all is true, all the paginated results are fetched; if false, list the first page.
func (s *CashflowPaymentTermsEndpoint) List(ctx context.Context, division int, all bool, o *api.ListOptions) ([]*CashflowPaymentTerms, error) {
	var entities []*CashflowPaymentTerms
	u, _ := s.client.ResolvePathWithDivision("/api/v1/{division}/sync/Cashflow/PaymentTerms", division) // #nosec
	api.AddListOptionsToURL(u, o)

	if all {
		err := s.client.ListRequestAndDoAll(ctx, u.String(), &entities)
		return entities, err
	}
	_, _, err := s.client.NewRequestAndDo(ctx, "GET", u.String(), nil, &entities)
	return entities, err
}

// Get the CashflowPaymentTerms entitiy in the provided division.
func (s *CashflowPaymentTermsEndpoint) Get(ctx context.Context, division int, id *int64) (*CashflowPaymentTerms, error) {
	b, _ := s.client.ResolvePathWithDivision("/api/v1/{division}/sync/Cashflow/PaymentTerms", division) // #nosec
	u, err := api.AddOdataKeyToURL(b, id)
	if err != nil {
		return nil, err
	}

	e := &CashflowPaymentTerms{}
	_, _, requestError := s.client.NewRequestAndDo(ctx, "GET", u.String(), nil, e)
	return e, requestError
}
